var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function $(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let h;function g(t){h=t}function m(){if(!h)throw new Error("Function called outside component initialization");return h}function w(t){return m().$$.context.get(t)}const v=[],y=[],x=[],b=[],k=Promise.resolve();let S=!1;function _(t){x.push(t)}let z=!1;const E=new Set;function M(){if(!z){z=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];g(e),C(e.$$)}for(v.length=0;y.length;)y.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];E.has(e)||(E.add(e),e())}x.length=0}while(v.length);for(;b.length;)b.pop()();S=!1,z=!1,E.clear()}}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const A=new Set;let B;function N(t,e){t&&t.i&&(A.delete(t),t.i(e))}function O(t,e,n,r){if(t&&t.o){if(A.has(t))return;A.add(t),B.c.push(()=>{A.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function j(t){t&&t.c()}function L(t,n,s){const{fragment:l,on_mount:c,on_destroy:i,after_update:u}=t.$$;l&&l.m(n,s),_(()=>{const n=c.map(e).filter(o);i?i.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(_)}function P(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(v.push(t),S||(S=!0,k.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,o,s,l,c,u,a=[-1]){const f=h;g(e);const d=o.props||{},$=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a};let p=!1;if($.ctx=s?s(e,d,(t,n,...r)=>{const o=r.length?r[0]:n;return $.ctx&&c($.ctx[t],$.ctx[t]=o)&&($.bound[t]&&$.bound[t](o),p&&q(e,t)),n}):[],$.update(),p=!0,r($.before_update),$.fragment=!!l&&l($.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);$.fragment&&$.fragment.l(t),t.forEach(i)}else $.fragment&&$.fragment.c();o.intro&&N(e.$$.fragment),L(e,o.target,o.anchor),M()}g(f)}class F{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function I(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function R(t){let e,n=0!==t[9]&&function(t){let e,n,r,o,s,u,d,h;function g(...e){return t[6](t[9],...e)}return{c(){e=a("g"),n=a("rect"),r=a("text"),o=f(t[9]),p(n,"height","22"),p(n,"width","22"),p(n,"stroke-width","0"),p(n,"x","1"),p(n,"y","1"),p(n,"class","svelte-19t6d19"),p(r,"font-size","12"),p(r,"transform",s="translate(12, 16)"),p(r,"text-anchor","middle"),p(r,"class","svelte-19t6d19"),p(e,"class","tile svelte-19t6d19"),p(e,"key",u=t[9]),p(e,"transform",d=`translate(${24*t[7][1]}, ${24*t[7][0]})`)},m(t,s,i){c(t,e,s),l(e,n),l(e,r),l(r,o),i&&h(),h=$(e,"click",g)},p(n,r){t=n,4&r&&d!==(d=`translate(${24*t[7][1]}, ${24*t[7][0]})`)&&p(e,"transform",d)},d(t){t&&i(e),h()}}}(t);return{c(){n&&n.c(),e=f("")},m(t,r){n&&n.m(t,r),c(t,e,r)},p(t,e){0!==t[9]&&n.p(t,e)},d(t){n&&n.d(t),t&&i(e)}}}function T(e){let n,r,o,s=e[2],f=[];for(let t=0;t<s.length;t+=1)f[t]=R(I(e,s,t));return{c(){n=u("div"),r=a("svg");for(let t=0;t<f.length;t+=1)f[t].c();p(r,"class","board svelte-19t6d19"),p(r,"width","100%"),p(r,"height","100%"),p(r,"viewBox",o=`0 0 ${24*e[0]} ${24*e[1]}`),p(r,"xmlns","http://www.w3.org/2000/svg"),p(n,"class","board-wrapper svelte-19t6d19")},m(t,e){c(t,n,e),l(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null)},p(t,[e]){if(12&e){let n;for(s=t[2],n=0;n<s.length;n+=1){const o=I(t,s,n);f[n]?f[n].p(o,e):(f[n]=R(o),f[n].c(),f[n].m(r,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=s.length}3&e&&o!==(o=`0 0 ${24*t[0]} ${24*t[1]}`)&&p(r,"viewBox",o)},i:t,o:t,d(t){t&&i(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(f,t)}}}function Y(t,e,n){let{tiles:r}=e,o=w("updateState");const s=t=>{const e=[];return t.forEach((t,n)=>{t.forEach((t,r)=>{e[t]=[n,r]})}),e};let l,c,i;return t.$set=t=>{"tiles"in t&&n(4,r=t.tiles)},t.$$.update=()=>{16&t.$$.dirty&&n(0,l=r[0].length),16&t.$$.dirty&&n(1,c=r.length),16&t.$$.dirty&&n(2,i=s(r))},[l,c,i,o,r,s,t=>{o("move",t)}]}class D extends F{constructor(t){super(),H(this,t,Y,T,s,{tiles:4})}}function G(e){let n,r,o,s,a,f,h,g,m,w,v;return{c(){n=u("div"),r=u("div"),o=d(),s=u("div"),s.textContent="You did it!",a=d(),f=u("audio"),g=d(),m=u("div"),w=u("a"),w.textContent="Play again!",p(r,"class","congrats-star svelte-b4iurp"),p(s,"class","congrats-header svelte-b4iurp"),f.src!==(h="build/win.ogg")&&p(f,"src","build/win.ogg"),p(w,"href","#"),p(w,"alt","Play again!"),p(w,"class","svelte-b4iurp"),p(m,"class","congrats-controls svelte-b4iurp"),p(n,"class","congrats svelte-b4iurp")},m(t,i,u){c(t,n,i),l(n,r),l(n,o),l(n,s),l(n,a),l(n,f),e[5](f),l(n,g),l(n,m),l(m,w),u&&v(),v=$(w,"click",e[6])},p:t,i:t,o:t,d(t){t&&i(n),e[5](null),v()}}}function J(t,e,n){let r,{tiles:o}=e,s=w("updateState");var l;l=()=>{r.play()},m().$$.on_mount.push(l);let c,i;return t.$set=t=>{"tiles"in t&&n(4,o=t.tiles)},t.$$.update=()=>{16&t.$$.dirty&&n(1,c=o[0].length),16&t.$$.dirty&&n(2,i=o.length)},[r,c,i,s,o,function(t){y[t?"unshift":"push"](()=>{n(0,r=t)})},()=>s("updateSize",i,c)]}class K extends F{constructor(t){super(),H(this,t,J,G,s,{tiles:4})}}function Q(t){let e,n,r,o,s=t[0]>0?"+":"-";return{c(){e=a("circle"),n=a("text"),r=f(s),p(e,"cx","12"),p(e,"cy","12"),p(e,"fill","#fff"),p(e,"fill-opacity","0.1"),p(e,"r","11"),p(e,"stroke-width","0.5"),p(e,"stroke","#fff"),p(n,"text-anchor","middle"),p(n,"font-size","9"),p(n,"font-weight","bold"),p(n,"transform",o="translate(12, 15.5)"),p(n,"fill","#fff")},m(t,o){c(t,e,o),c(t,n,o),l(n,r)},p(t,e){1&e&&s!==(s=t[0]>0?"+":"-")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(r,s)},d(t){t&&i(e),t&&i(n)}}}function U(e){let n,r,o,s;return{c(){n=a("circle"),r=a("g"),o=a("path"),s=a("path"),p(n,"cx","12"),p(n,"cy","12"),p(n,"fill","#0dad8a"),p(n,"r","11"),p(o,"d","M6.59 9.49h2.43c.51 0 .97.27 1.29.68.22-.4.5-.8.82-1.15a2.95 2.95 0\n        00-2.11-.93H6.59a.7.7 0 100 1.4zm5.34 2.15c.38-1.15 1.56-2.15\n        2.53-2.15h1.28l-.9.89a.7.7 0 10.97.98L18.4 8.8l-2.57-2.57a.7.7 0\n        10-.98.98l.9.9h-1.28c-1.58 0-3.27 1.36-3.85 3.1l-.33.99c-.45 1.33-1.44\n        2.15-1.95 2.15H6.58a.7.7 0 100 1.4h1.75c1.28 0 2.69-1.34\n        3.28-3.12l.32-.98z"),p(s,"d","M15 12.47a.7.7 0 000 .98l.9.9h-1.63a2 2 0 01-1.88-1.47 6.36 6.36 0\n        01-.75 1.52 3.3 3.3 0 002.63 1.34h1.62l-.9.89a.7.7 0\n        10.98.98l2.58-2.57-2.57-2.57a.7.7 0 00-.99 0z"),p(r,"fill","#fff")},m(t,e){c(t,n,e),c(t,r,e),l(r,o),l(r,s)},p:t,d(t){t&&i(n),t&&i(r)}}}function V(e){let n,r;function o(t,e){return t[3]?U:Q}let s=o(e),l=s(e);return{c(){n=a("svg"),l.c(),p(n,"class","btn svelte-1lgdls7"),p(n,"viewBox","0 0 24 24"),p(n,"xmlns","http://www.w3.org/2000/svg")},m(t,o,s){c(t,n,o),l.m(n,null),s&&r(),r=$(n,"click",e[8])},p(t,[e]){s===(s=o(t))&&l?l.p(t,e):(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&i(n),l.d(),r()}}}function W(t,e,n){let{direction:r=0}=e,{update:o=[]}=e,{rows:s}=e,{cols:l}=e,{shuffle:c=!1}=e,i=w("updateState");let u,a;return t.$set=t=>{"direction"in t&&n(0,r=t.direction),"update"in t&&n(7,o=t.update),"rows"in t&&n(1,s=t.rows),"cols"in t&&n(2,l=t.cols),"shuffle"in t&&n(3,c=t.shuffle)},t.$$.update=()=>{128&t.$$.dirty&&n(4,u="rows"===o[0]),128&t.$$.dirty&&n(5,a="cols"===o[0]),128&t.$$.dirty&&n(0,r=o[1])},[r,s,l,c,u,a,i,o,()=>{const t=c?s:Math.max(2,s+(u?r:0)),e=c?l:Math.max(2,l+(a?r:0));i("updateSize",t,e)}]}class X extends F{constructor(t){super(),H(this,t,W,V,s,{direction:0,update:7,rows:1,cols:2,shuffle:3})}}function Z(t,e){const n=t.findIndex(t=>t.indexOf(e)>-1);return[n,t[n].indexOf(e)]}function tt(t,e){const[n,r]=Z(t,0),[o,s]=Z(t,e);return Math.abs(n-o)+Math.abs(r-s)===1&&(t[n][r]=e,t[o][s]=0),t}function et(t){return tt(t,(e=function(t,e){const n=[],[r,o]=Z(t,e);return r>0&&n.push(t[r-1][o]),r<t.length-1&&n.push(t[r+1][o]),o>0&&n.push(t[r][o-1]),o<t[0].length-1&&n.push(t[r][o+1]),n}(t,0))[Math.floor(Math.random()*e.length)]);var e}function nt(t,e){const n=[];for(let r=0;r<t;r++)n.push(Array.from({length:e},(t,n)=>n+e*r+1));return n[t-1][e-1]=0,n}function rt(t){for(let e=0;e<t.length*t[0].length**2;e++)et(t);return ot(t)?et(t):t}function ot(t,e=t.length,n=t[0].length){for(let r=0,o=0;r<e;r++)for(let s=0;s<n;s++){if(o++,0===t[r][s]&&o===e*n)return!0;if(t[r][s]!==o)return!1}return!0}function st(t){let e,n,r,o,s,a,h,g,m,w,v,y;const x=new X({props:{cols:t[0],rows:t[1],update:["rows",-1]}}),b=new X({props:{cols:t[0],rows:t[1],update:["rows",1]}}),k=new X({props:{cols:t[0],rows:t[1],update:["cols",-1]}}),S=new X({props:{cols:t[0],rows:t[1],update:["cols",1]}}),_=new X({props:{cols:t[0],rows:t[1],shuffle:!0}});return{c(){e=u("div"),n=u("div"),r=f("Rows\n    "),j(x.$$.fragment),o=d(),j(b.$$.fragment),s=d(),a=u("div"),h=f("Columns\n    "),j(k.$$.fragment),g=d(),j(S.$$.fragment),m=d(),w=u("div"),j(_.$$.fragment),p(n,"class","rows-controls svelte-578kd"),p(a,"class","cols-controls svelte-578kd"),p(w,"class","aside-controls svelte-578kd"),p(e,"class","controls svelte-578kd")},m(i,u,f){c(i,e,u),l(e,n),l(n,r),L(x,n,null),l(n,o),L(b,n,null),l(e,s),l(e,a),l(a,h),L(k,a,null),l(a,g),L(S,a,null),l(e,m),l(e,w),L(_,w,null),v=!0,f&&y(),y=$(window,"keydown",t[2])},p(t,[e]){const n={};1&e&&(n.cols=t[0]),2&e&&(n.rows=t[1]),x.$set(n);const r={};1&e&&(r.cols=t[0]),2&e&&(r.rows=t[1]),b.$set(r);const o={};1&e&&(o.cols=t[0]),2&e&&(o.rows=t[1]),k.$set(o);const s={};1&e&&(s.cols=t[0]),2&e&&(s.rows=t[1]),S.$set(s);const l={};1&e&&(l.cols=t[0]),2&e&&(l.rows=t[1]),_.$set(l)},i(t){v||(N(x.$$.fragment,t),N(b.$$.fragment,t),N(k.$$.fragment,t),N(S.$$.fragment,t),N(_.$$.fragment,t),v=!0)},o(t){O(x.$$.fragment,t),O(b.$$.fragment,t),O(k.$$.fragment,t),O(S.$$.fragment,t),O(_.$$.fragment,t),v=!1},d(t){t&&i(e),P(x),P(b),P(k),P(S),P(_),y()}}}function lt(t,e,n){let{tiles:r}=e,o=w("updateState");let s,l;return t.$set=t=>{"tiles"in t&&n(3,r=t.tiles)},t.$$.update=()=>{8&t.$$.dirty&&n(0,s=r[0].length),8&t.$$.dirty&&n(1,l=r.length)},[s,l,({keyCode:t})=>{const[e,n]=Z(r,0);let c;37===t&&n<s-1?c=r[e][n+1]:38===t&&e<l-1?c=r[e+1][n]:39===t&&n>0?c=r[e][n-1]:40===t&&e>0&&(c=r[e-1][n]),c&&o("move",c)},r]}class ct extends F{constructor(t){super(),H(this,t,lt,st,s,{tiles:3})}}function it(t){let e,n;const r=new ct({props:{tiles:t[0]}}),o=new D({props:{tiles:t[0]}});return{c(){j(r.$$.fragment),e=d(),j(o.$$.fragment)},m(t,s){L(r,t,s),c(t,e,s),L(o,t,s),n=!0},p(t,e){const n={};1&e&&(n.tiles=t[0]),r.$set(n);const s={};1&e&&(s.tiles=t[0]),o.$set(s)},i(t){n||(N(r.$$.fragment,t),N(o.$$.fragment,t),n=!0)},o(t){O(r.$$.fragment,t),O(o.$$.fragment,t),n=!1},d(t){P(r,t),t&&i(e),P(o,t)}}}function ut(t){let e;const n=new K({props:{tiles:t[0]}});return{c(){j(n.$$.fragment)},m(t,r){L(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.tiles=t[0]),n.$set(r)},i(t){e||(N(n.$$.fragment,t),e=!0)},o(t){O(n.$$.fragment,t),e=!1},d(t){P(n,t)}}}function at(t){let e,n,o,s;const l=[ut,it],a=[];function f(t,e){return t[1]?0:1}return n=f(t),o=a[n]=l[n](t),{c(){e=u("main"),o.c(),p(e,"id","root"),p(e,"class","svelte-7qwjs7")},m(t,r){c(t,e,r),a[n].m(e,null),s=!0},p(t,[s]){let c=n;n=f(t),n===c?a[n].p(t,s):(B={r:0,c:[],p:B},O(a[c],1,1,()=>{a[c]=null}),B.r||r(B.c),B=B.p,o=a[n],o||(o=a[n]=l[n](t),o.c()),N(o,1),o.m(e,null))},i(t){s||(N(o),s=!0)},o(t){O(o),s=!1},d(t){t&&i(e),a[n].d()}}}function ft(t,e,n){let{tiles:r=rt(nt(4,4))}=e,{updateState:o=((t,...e)=>{switch(t){case"move":{const[t]=e;n(0,r=tt(r,t));break}case"updateSize":{const[t,o]=e;n(0,r=rt(nt(t,o)));break}}})}=e;var s,l;let c;return s="updateState",l=o,m().$$.context.set(s,l),t.$set=t=>{"tiles"in t&&n(0,r=t.tiles),"updateState"in t&&n(2,o=t.updateState)},t.$$.update=()=>{1&t.$$.dirty&&n(1,c=ot(r)),1&t.$$.dirty&&(document.title=r[0].length*r.length-1+"-puzzle")},[r,c,o]}return new class extends F{constructor(t){super(),H(this,t,ft,at,s,{tiles:0,updateState:2})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
