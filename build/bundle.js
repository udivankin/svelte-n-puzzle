var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function i(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let h;function g(t){h=t}function m(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(t)}const w=[],v=[],S=[],y=[],x=Promise.resolve();let b=!1;function k(t){S.push(t)}let _=!1;const z=new Set;function E(){if(!_){_=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];g(e),M(e.$$)}for(w.length=0;v.length;)v.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];z.has(e)||(z.add(e),e())}S.length=0}while(w.length);for(;y.length;)y.pop()();b=!1,_=!1,z.clear()}}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const C=new Set;let A;function B(t,e){t&&t.i&&(C.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(C.has(t))return;C.add(t),A.c.push(()=>{C.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function O(t){t&&t.c()}function j(t,n,s){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=t.$$;l&&l.m(n,s),k(()=>{const n=a.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(k)}function L(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(w.push(t),b||(b=!0,x.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,o,s,l,a,u,i=[-1]){const d=h;g(e);const f=o.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:i};let $=!1;if(p.ctx=s?s(e,f,(t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),$&&P(e,t)),n}):[],p.update(),$=!0,r(p.before_update),p.fragment=!!l&&l(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&B(e.$$.fragment),j(e,o.target,o.anchor),E()}g(d)}class q{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function F(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function I(t){let e,n=0!==t[9]&&function(t){let e,n,r,o,s,u,f,h;function g(...e){return t[6](t[9],...e)}return{c(){e=i("g"),n=i("rect"),r=i("text"),o=d(t[9]),$(n,"height","22"),$(n,"width","22"),$(n,"stroke-width","0"),$(n,"x","1"),$(n,"y","1"),$(n,"class","svelte-1l0ngvn"),$(r,"font-size","12"),$(r,"transform",s="translate(12, 16)"),$(r,"text-anchor","middle"),$(r,"class","svelte-1l0ngvn"),$(e,"class","tile svelte-1l0ngvn"),$(e,"key",u=t[9]),$(e,"transform",f=`translate(${24*t[7][1]}, ${24*t[7][0]})`)},m(t,s,c){a(t,e,s),l(e,n),l(e,r),l(r,o),c&&h(),h=p(e,"click",g)},p(n,r){t=n,8&r&&f!==(f=`translate(${24*t[7][1]}, ${24*t[7][0]})`)&&$(e,"transform",f)},d(t){t&&c(e),h()}}}(t);return{c(){n&&n.c(),e=d("")},m(t,r){n&&n.m(t,r),a(t,e,r)},p(t,e){0!==t[9]&&n.p(t,e)},d(t){n&&n.d(t),t&&c(e)}}}function R(e){let n,r,o,s=e[3],d=[];for(let t=0;t<s.length;t+=1)d[t]=I(F(e,s,t));return{c(){n=u("div"),r=i("svg");for(let t=0;t<d.length;t+=1)d[t].c();$(r,"class","board svelte-1l0ngvn"),$(r,"width","100%"),$(r,"height","100%"),$(r,"viewBox",o=`0 0 ${24*e[1]} ${24*e[2]}`),$(r,"xmlns","http://www.w3.org/2000/svg"),$(n,"class","board-wrapper svelte-1l0ngvn")},m(t,e){a(t,n,e),l(n,r);for(let t=0;t<d.length;t+=1)d[t].m(r,null)},p(t,[e]){if(9&e){let n;for(s=t[3],n=0;n<s.length;n+=1){const o=F(t,s,n);d[n]?d[n].p(o,e):(d[n]=I(o),d[n].c(),d[n].m(r,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=s.length}6&e&&o!==(o=`0 0 ${24*t[1]} ${24*t[2]}`)&&$(r,"viewBox",o)},i:t,o:t,d(t){t&&c(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(d,t)}}}function T(t,e,n){let{tiles:r}=e,{updateState:o}=e;const s=t=>{const e=[];return t.forEach((t,n)=>{t.forEach((t,r)=>{e[t]=[n,r]})}),e};let l,a,c;return t.$set=t=>{"tiles"in t&&n(4,r=t.tiles),"updateState"in t&&n(0,o=t.updateState)},t.$$.update=()=>{16&t.$$.dirty&&n(1,l=r[0].length),16&t.$$.dirty&&n(2,a=r.length),16&t.$$.dirty&&n(3,c=s(r))},[o,l,a,c,r,s,t=>{o("move",t)}]}class Y extends q{constructor(t){super(),H(this,t,T,R,s,{tiles:4,updateState:0})}}function D(e){let n,r,o,s,i,d,h,g,m,w,v;return{c(){n=u("div"),r=u("div"),o=f(),s=u("div"),s.textContent="You did it!",i=f(),d=u("audio"),g=f(),m=u("div"),w=u("a"),w.textContent="Play again!",$(r,"class","congrats-star svelte-b4iurp"),$(s,"class","congrats-header svelte-b4iurp"),d.src!==(h="build/win.ogg")&&$(d,"src","build/win.ogg"),$(w,"href","#"),$(w,"alt","Play again!"),$(w,"class","svelte-b4iurp"),$(m,"class","congrats-controls svelte-b4iurp"),$(n,"class","congrats svelte-b4iurp")},m(t,c,u){a(t,n,c),l(n,r),l(n,o),l(n,s),l(n,i),l(n,d),e[5](d),l(n,g),l(n,m),l(m,w),u&&v(),v=p(w,"click",e[6])},p:t,i:t,o:t,d(t){t&&c(n),e[5](null),v()}}}function G(t,e,n){let r,{tiles:o}=e,{updateState:s}=e;m(()=>{r.play()});let l,a;return t.$set=t=>{"tiles"in t&&n(4,o=t.tiles),"updateState"in t&&n(0,s=t.updateState)},t.$$.update=()=>{16&t.$$.dirty&&n(2,l=o[0].length),16&t.$$.dirty&&n(3,a=o.length)},[s,r,l,a,o,function(t){v[t?"unshift":"push"](()=>{n(1,r=t)})},()=>s("updateSize",a,l)]}class J extends q{constructor(t){super(),H(this,t,G,D,s,{tiles:4,updateState:0})}}function K(t){let e,n,r,o,s=t[0]>0?"+":"-";return{c(){e=i("circle"),n=i("text"),r=d(s),$(e,"cx","12"),$(e,"cy","12"),$(e,"fill","#fff"),$(e,"fill-opacity","0.1"),$(e,"r","11"),$(e,"stroke-width","0.5"),$(e,"stroke","#fff"),$(n,"text-anchor","middle"),$(n,"font-size","9"),$(n,"font-weight","bold"),$(n,"transform",o="translate(12, 15.5)"),$(n,"fill","#fff")},m(t,o){a(t,e,o),a(t,n,o),l(n,r)},p(t,e){1&e&&s!==(s=t[0]>0?"+":"-")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(r,s)},d(t){t&&c(e),t&&c(n)}}}function Q(e){let n,r,o,s;return{c(){n=i("circle"),r=i("g"),o=i("path"),s=i("path"),$(n,"cx","12"),$(n,"cy","12"),$(n,"fill","#0dad8a"),$(n,"r","11"),$(o,"d","M6.59 9.49h2.43c.51 0 .97.27 1.29.68.22-.4.5-.8.82-1.15a2.95 2.95 0 00-2.11-.93H6.59a.7.7 0 100 1.4zm5.34 2.15c.38-1.15 1.56-2.15 2.53-2.15h1.28l-.9.89a.7.7 0 10.97.98L18.4 8.8l-2.57-2.57a.7.7 0 10-.98.98l.9.9h-1.28c-1.58 0-3.27 1.36-3.85 3.1l-.33.99c-.45 1.33-1.44 2.15-1.95 2.15H6.58a.7.7 0 100 1.4h1.75c1.28 0 2.69-1.34 3.28-3.12l.32-.98z"),$(s,"d","M15 12.47a.7.7 0 000 .98l.9.9h-1.63a2 2 0 01-1.88-1.47 6.36 6.36 0 01-.75 1.52 3.3 3.3 0 002.63 1.34h1.62l-.9.89a.7.7 0 10.98.98l2.58-2.57-2.57-2.57a.7.7 0 00-.99 0z"),$(r,"fill","#fff")},m(t,e){a(t,n,e),a(t,r,e),l(r,o),l(r,s)},p:t,d(t){t&&c(n),t&&c(r)}}}function U(e){let n,r;function o(t,e){return t[3]?Q:K}let s=o(e),l=s(e);return{c(){n=i("svg"),l.c(),$(n,"class","btn svelte-1595guj"),$(n,"viewBox","0 0 24 24"),$(n,"xmlns","http://www.w3.org/2000/svg")},m(t,o,s){a(t,n,o),l.m(n,null),s&&r(),r=p(n,"click",e[8])},p(t,[e]){s===(s=o(t))&&l?l.p(t,e):(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&c(n),l.d(),r()}}}function V(t,e,n){let{direction:r=0}=e,{update:o=[]}=e,{rows:s}=e,{cols:l}=e,{shuffle:a=!1}=e,{updateState:c}=e;let u,i;return t.$set=t=>{"direction"in t&&n(0,r=t.direction),"update"in t&&n(7,o=t.update),"rows"in t&&n(1,s=t.rows),"cols"in t&&n(2,l=t.cols),"shuffle"in t&&n(3,a=t.shuffle),"updateState"in t&&n(4,c=t.updateState)},t.$$.update=()=>{128&t.$$.dirty&&n(5,u="rows"===o[0]),128&t.$$.dirty&&n(6,i="cols"===o[0]),128&t.$$.dirty&&n(0,r=o[1])},[r,s,l,a,c,u,i,o,()=>{const t=a?s:Math.max(2,s+(u?r:0)),e=a?l:Math.max(2,l+(i?r:0));c("updateSize",t,e)}]}class W extends q{constructor(t){super(),H(this,t,V,U,s,{direction:0,update:7,rows:1,cols:2,shuffle:3,updateState:4})}}function X(t,e){const n=t.findIndex(t=>t.indexOf(e)>-1);return[n,t[n].indexOf(e)]}function Z(t,e){const[n,r]=X(t,0),[o,s]=X(t,e);return Math.abs(n-o)+Math.abs(r-s)===1&&(t[n][r]=e,t[o][s]=0),t}function tt(t){return Z(t,(e=function(t,e){const n=[],[r,o]=X(t,e);return r>0&&n.push(t[r-1][o]),r<t.length-1&&n.push(t[r+1][o]),o>0&&n.push(t[r][o-1]),o<t[0].length-1&&n.push(t[r][o+1]),n}(t,0))[Math.floor(Math.random()*e.length)]);var e}function et(t,e){const n=[];for(let r=0;r<t;r++)n.push(Array.from({length:e},(t,n)=>n+e*r+1));return n[t-1][e-1]=0,n}function nt(t){for(let e=0;e<t.length*t[0].length**2;e++)tt(t);return t}function rt(t){let e,n,r,o,s,i,h,g,m,w,v,S;const y=new W({props:{cols:t[1],rows:t[2],update:["rows",-1],updateState:t[0]}}),x=new W({props:{cols:t[1],rows:t[2],update:["rows",1],updateState:t[0]}}),b=new W({props:{cols:t[1],rows:t[2],update:["cols",-1],updateState:t[0]}}),k=new W({props:{cols:t[1],rows:t[2],update:["cols",1],updateState:t[0]}}),_=new W({props:{cols:t[1],rows:t[2],shuffle:!0,updateState:t[0]}});return{c(){e=u("div"),n=u("div"),r=d("Rows\n    "),O(y.$$.fragment),o=f(),O(x.$$.fragment),s=f(),i=u("div"),h=d("Columns\n    "),O(b.$$.fragment),g=f(),O(k.$$.fragment),m=f(),w=u("div"),O(_.$$.fragment),$(n,"class","rows-controls svelte-578kd"),$(i,"class","cols-controls svelte-578kd"),$(w,"class","aside-controls svelte-578kd"),$(e,"class","controls svelte-578kd")},m(c,u,d){a(c,e,u),l(e,n),l(n,r),j(y,n,null),l(n,o),j(x,n,null),l(e,s),l(e,i),l(i,h),j(b,i,null),l(i,g),j(k,i,null),l(e,m),l(e,w),j(_,w,null),v=!0,d&&S(),S=p(window,"keydown",t[3])},p(t,[e]){const n={};2&e&&(n.cols=t[1]),4&e&&(n.rows=t[2]),1&e&&(n.updateState=t[0]),y.$set(n);const r={};2&e&&(r.cols=t[1]),4&e&&(r.rows=t[2]),1&e&&(r.updateState=t[0]),x.$set(r);const o={};2&e&&(o.cols=t[1]),4&e&&(o.rows=t[2]),1&e&&(o.updateState=t[0]),b.$set(o);const s={};2&e&&(s.cols=t[1]),4&e&&(s.rows=t[2]),1&e&&(s.updateState=t[0]),k.$set(s);const l={};2&e&&(l.cols=t[1]),4&e&&(l.rows=t[2]),1&e&&(l.updateState=t[0]),_.$set(l)},i(t){v||(B(y.$$.fragment,t),B(x.$$.fragment,t),B(b.$$.fragment,t),B(k.$$.fragment,t),B(_.$$.fragment,t),v=!0)},o(t){N(y.$$.fragment,t),N(x.$$.fragment,t),N(b.$$.fragment,t),N(k.$$.fragment,t),N(_.$$.fragment,t),v=!1},d(t){t&&c(e),L(y),L(x),L(b),L(k),L(_),S()}}}function ot(t,e,n){let{tiles:r}=e,{updateState:o}=e;let s,l;return t.$set=t=>{"tiles"in t&&n(4,r=t.tiles),"updateState"in t&&n(0,o=t.updateState)},t.$$.update=()=>{16&t.$$.dirty&&n(1,s=r[0].length),16&t.$$.dirty&&n(2,l=r.length)},[o,s,l,({keyCode:t})=>{const[e,n]=X(r,0);let a;37===t&&n<s-1?a=r[e][n+1]:38===t&&e<l-1?a=r[e+1][n]:39===t&&n>0?a=r[e][n-1]:40===t&&e>0&&(a=r[e-1][n]),a&&o("move",a)},r]}class st extends q{constructor(t){super(),H(this,t,ot,rt,s,{tiles:4,updateState:0})}}function lt(t){let e,n;const r=new st({props:{tiles:t[0],updateState:t[1]}}),o=new Y({props:{tiles:t[0],updateState:t[1]}});return{c(){O(r.$$.fragment),e=f(),O(o.$$.fragment)},m(t,s){j(r,t,s),a(t,e,s),j(o,t,s),n=!0},p(t,e){const n={};1&e&&(n.tiles=t[0]),2&e&&(n.updateState=t[1]),r.$set(n);const s={};1&e&&(s.tiles=t[0]),2&e&&(s.updateState=t[1]),o.$set(s)},i(t){n||(B(r.$$.fragment,t),B(o.$$.fragment,t),n=!0)},o(t){N(r.$$.fragment,t),N(o.$$.fragment,t),n=!1},d(t){L(r,t),t&&c(e),L(o,t)}}}function at(t){let e;const n=new J({props:{tiles:t[0],updateState:t[1]}});return{c(){O(n.$$.fragment)},m(t,r){j(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.tiles=t[0]),2&e&&(r.updateState=t[1]),n.$set(r)},i(t){e||(B(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function ct(t){let e,n,o,s;const l=[at,lt],i=[];function d(t,e){return t[2]?0:1}return n=d(t),o=i[n]=l[n](t),{c(){e=u("main"),o.c(),$(e,"id","root"),$(e,"class","svelte-dx06v2")},m(t,r){a(t,e,r),i[n].m(e,null),s=!0},p(t,[s]){let a=n;n=d(t),n===a?i[n].p(t,s):(A={r:0,c:[],p:A},N(i[a],1,1,()=>{i[a]=null}),A.r||r(A.c),A=A.p,o=i[n],o||(o=i[n]=l[n](t),o.c()),B(o,1),o.m(e,null))},i(t){s||(B(o),s=!0)},o(t){N(o),s=!1},d(t){t&&c(e),i[n].d()}}}function ut(t,e,n){let r,{tiles:o=nt(et(4,4))}=e,{updateState:s=((t,...e)=>{switch(t){case"move":{const[t]=e;n(0,o=Z(o,t));break}case"updateSize":{const[t,r]=e;n(0,o=nt(et(t,r)));break}}})}=e;return t.$set=t=>{"tiles"in t&&n(0,o=t.tiles),"updateState"in t&&n(1,s=t.updateState)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=function(t,e=t.length,n=t[0].length){for(let r=0,o=0;r<e;r++)for(let s=0;s<n;s++){if(o++,0===t[r][s]&&o===e*n)return!0;if(t[r][s]!==o)return!1}return!0}(o)),1&t.$$.dirty&&(document.title=o[0].length*o.length-1+"-puzzle")},[o,s,r]}return new class extends q{constructor(t){super(),H(this,t,ut,ct,s,{tiles:0,updateState:1})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
